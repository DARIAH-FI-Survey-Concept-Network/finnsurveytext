---
title: "Comparing-Dimensions"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Comparing-Dimensions}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>", 
  fig.width=6, fig.height=6
)
```

```{r setup}
#install.packages("finnsurveytext")
#library(finnsurveytext)
devtools::load_all() # TO-DO: remove this load_all() line and uncomment the library() line. 
```

We will look at the data, and see whether men and women say different things 

Closed question to split data: Qn 19_1, 'Sukupuolesi?'
  'Mies' = 1, 'Nainen' = 2
Open-ended question: Qn 9 'Miltä yksinäisyys tuntuu? Yksinäisyyteen liittyy usein voimakkaita tunteita, jotka ovat erilaisia eri elämäntilanteissa. Jos haluat, voit kertoa yksinäisyyskokemuksiasi tässä.'

So we will split 
```{r}
lonely <- lonely_data


mies <- dplyr::filter(lonely_data, lonely_data$q19_1 == 1) 
nainen <- dplyr::filter(lonely_data, lonely_data$q19_1 == 2)
```

We will now run them both separately 

```{r}
mies_conllu <- fst_prepare_conllu(mies, 
                                   field = "q9", 
                                   stopword_list = "nltk", 
                                   model = "ftb")

nainen_conllu <- fst_prepare_conllu(nainen, 
                                   field = "q9", 
                                   stopword_list = "nltk", 
                                   model = "ftb")
```


# EDA
## DISCOVER MEN
```{r}
fst_discover(mies_conllu)
```

## DISCOVER WOMEN
```{r}
fst_discover(nainen_conllu)
```




# Concept network
## MEN
```{r}
fst_concept_network(mies_conllu, 
                    concepts = "yksinäisyys, tunne, tuntea")
```

## WOMEN
```{r}
fst_concept_network(nainen_conllu, 
                    concepts = "yksinäisyys, tunne, tuntea", 
                    threshold=5)
```


