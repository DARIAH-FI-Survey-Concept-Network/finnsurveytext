<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>InDetail4-ComparisonFunctions • finnsurveytext</title>
<script src="../../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../../deps/headroom-0.11.0/headroom.min.js"></script><script src="../../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../../deps/search-1.0.0/fuse.min.js"></script><script src="../../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../../pkgdown.js"></script><meta property="og:title" content="InDetail4-ComparisonFunctions">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../../index.html">finnsurveytext</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">2.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../../articles/web_only/Extra-AnalysingOtherLanguages.html">Extra-AnalysingOtherLanguages</a></li>
    <li><a class="dropdown-item" href="../../articles/web_only/Extra-UseWithSurveyPackage.html">Extra-UseWithSurveyPackage</a></li>
    <li><a class="dropdown-item" href="../../articles/web_only/InDetail1-DataPreparation.html">InDetail1-DataPreparation</a></li>
    <li><a class="dropdown-item" href="../../articles/web_only/InDetail2-DataExploration.html">InDetail2-DataExploration</a></li>
    <li><a class="dropdown-item" href="../../articles/web_only/InDetail3-ConceptNetworkOverview.html">InDetail3-ConceptNetworkOverview</a></li>
    <li><a class="dropdown-item" href="../../articles/web_only/InDetail4-ComparisonFunctions.html">InDetail4-ComparisonFunctions</a></li>
    <li><a class="dropdown-item" href="../../articles/web_only/InDetail5-AnalysisExample1.html">InDetail5-AnalysisExample1</a></li>
    <li><a class="dropdown-item" href="../../articles/web_only/InDetail6-AnalysisExample2.html">InDetail6-AnalysisExample2</a></li>
    <li><a class="dropdown-item" href="../../articles/Overview-PackageTutorial.html">Overview-PackageTutorial</a></li>
    <li><a class="dropdown-item" href="../../articles/ReadMe.html">ReadMe</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/DARIAH-FI-Survey-Concept-Network/finnsurveytext/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>InDetail4-ComparisonFunctions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/DARIAH-FI-Survey-Concept-Network/finnsurveytext/blob/main/vignettes/web_only/InDetail4-ComparisonFunctions.Rmd" class="external-link"><code>vignettes/web_only/InDetail4-ComparisonFunctions.Rmd</code></a></small>
      <div class="d-none name"><code>InDetail4-ComparisonFunctions.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>When analysing responses to open-ended questions, you may want to
look into whether different groups of survey participants have, in
general, responded differently to the prompt.
<code>finnsurveytext</code> contains a number of comparison functions
which are intended to be used to compare responses between groups. These
comparison functions covered are defined in
<code>r/04_comparison_functions.R</code> and
<code>r/05_comparison_concept_network.R</code>.</p>
<p>One way to split the data is using a different question within the
survey such as a categorical question (eg. gender, location, or level of
education) or an ordinal variable (such as age or income bracket). In
this tutorial, we will look at comparing responses to a question based
on gender. Before using the comparison functions, we run the preparation
functions which are in <code>r/01_prepare_conll-u.R</code> (and which
are covered in detail in ‘Tutorial1-Prepare CoNLL-U’) for each group
separately.</p>
<p>The comparison functions are:</p>
<ol style="list-style-type: decimal">
<li><code><a href="../../reference/fst_summarise_compare.html">fst_summarise_compare()</a></code></li>
<li><code><a href="../../reference/fst_pos_compare.html">fst_pos_compare()</a></code></li>
<li><code><a href="../../reference/fst_length_compare.html">fst_length_compare()</a></code></li>
<li><code>fst_comparisoncloud()</code></li>
<li><code><a href="../../reference/fst_get_unique_ngrams.html">fst_get_unique_ngrams()</a></code></li>
<li><code><a href="../../reference/fst_join_unique.html">fst_join_unique()</a></code></li>
<li><code><a href="../../reference/fst_ngrams_compare_plot.html">fst_ngrams_compare_plot()</a></code></li>
<li><code>fst_ngrams_compare_plot2()</code></li>
<li><code>fst_plot_multiple()</code></li>
<li><code><a href="../../reference/fst_freq_compare.html">fst_freq_compare()</a></code></li>
<li><code><a href="../../reference/fst_ngrams_compare.html">fst_ngrams_compare()</a></code></li>
<li><code><a href="../../reference/fst_cn_get_unique.html">fst_cn_get_unique()</a></code></li>
<li><code><a href="../../reference/fst_cn_compare_plot.html">fst_cn_compare_plot()</a></code></li>
<li><code><a href="../../reference/fst_concept_network_compare.html">fst_concept_network_compare()</a></code></li>
</ol>
<p>We will look at the following question:</p>
<ul>
<li>q11_2 Jatka lausetta: Kehitysyhteistyö on toimintaa, jossa…
(Avokysymys)
<ul>
<li>(In English) q11_2 Continue the sentence: Development cooperation is
an activity in which… (Open question)</li>
</ul>
</li>
</ul>
<div class="section level3">
<h3 id="installation-of-package-">Installation of package.<a class="anchor" aria-label="anchor" href="#installation-of-package-"></a>
</h3>
<p>Once the package is installed, you can load the
<code>finnsurveytext</code> package as below: (Other required packages
such as <code>dplyr</code> and <code>stringr</code> will also be
installed if they are not currently installed in your environment.)</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dariah-fi-survey-concept-network.github.io/finnsurveytext/">finnsurveytext</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="the-data">The Data<a class="anchor" aria-label="anchor" href="#the-data"></a>
</h3>
<p>These files have been created following the process demonstrated in
Tutorial 1.</p>
<div class="section level5">
<h5 id="child-barometer-data">1. Child Barometer Data<a class="anchor" aria-label="anchor" href="#child-barometer-data"></a>
</h5>
<ul>
<li>data/fst_child.rda</li>
</ul>
</div>
<div class="section level5">
<h5 id="development-cooperation-data">2. Development Cooperation Data<a class="anchor" aria-label="anchor" href="#development-cooperation-data"></a>
</h5>
<ul>
<li>data/fst_dev_coop</li>
</ul>
<p>You can read these in as follows:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df1</span> <span class="op">&lt;-</span> <span class="va">fst_child</span></span>
<span><span class="va">df2</span> <span class="op">&lt;-</span> <span class="va">fst_dev_coop</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="comparison-of-responses-based-on-gender">Comparison of responses based on gender<a class="anchor" aria-label="anchor" href="#comparison-of-responses-based-on-gender"></a>
</h2>
<p>All of our comparison functions can compare between groups of
respondents based on another field in the raw data which we have
included when formatting. The following common arguments appear in
multiple functions and are defined the same way in each:</p>
<ul>
<li>
<code>field</code> is the field in the data used to split the
responses.</li>
<li>
<code>exclude_nulls</code> (which has a default value of FALSE) is
used to indicate whether we want to include a group of repondents which
have no value in the <code>field</code> column.</li>
<li>
<code>rename_nulls</code> (with default value of ‘null_data’) is
what to name the group with the missing <code>field</code> data.</li>
</ul>
<p>First, we will look at some summary functions to compare the
responses overall.</p>
<p>The functions are:</p>
<ol style="list-style-type: decimal">
<li><code><a href="../../reference/fst_summarise_compare.html">fst_summarise_compare()</a></code></li>
<li><code>fst_pos_summary()</code></li>
<li><code><a href="../../reference/fst_length_compare.html">fst_length_compare()</a></code></li>
</ol>
<div class="section level4">
<h4 id="make-comparison-summary">Make Comparison Summary<a class="anchor" aria-label="anchor" href="#make-comparison-summary"></a>
</h4>
<p>We can run this function to create a summary table for our data: (we
use <code><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">knitr::kable</a></code> function below to display results in a
“prettier” table)</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../../reference/fst_summarise_compare.html">fst_summarise_compare</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df2</span>,</span>
<span>                        field <span class="op">=</span> <span class="st">'gender'</span>,</span>
<span>                        exclude_nulls <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                        rename_nulls <span class="op">=</span> <span class="st">'no gender provided'</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="20%">
<col width="12%">
<col width="12%">
<col width="11%">
<col width="12%">
<col width="13%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">Description</th>
<th align="right">Respondents</th>
<th align="right">No Response</th>
<th align="right">Proportion</th>
<th align="right">Total Words</th>
<th align="right">Unique Words</th>
<th align="right">Unique Lemmas</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Female</td>
<td align="right">673</td>
<td align="right">13</td>
<td align="right">0.98</td>
<td align="right">2993</td>
<td align="right">823</td>
<td align="right">722</td>
</tr>
<tr class="even">
<td align="left">Male</td>
<td align="right">183</td>
<td align="right">8</td>
<td align="right">0.96</td>
<td align="right">795</td>
<td align="right">383</td>
<td align="right">354</td>
</tr>
<tr class="odd">
<td align="left">no gender provided</td>
<td align="right">89</td>
<td align="right">4</td>
<td align="right">0.96</td>
<td align="right">404</td>
<td align="right">225</td>
<td align="right">208</td>
</tr>
</tbody>
</table>
<p><strong>Remarks:</strong></p>
<p>We can already see that our data is quite unbalanced. There are a lot
more female respondents than male or unspecified. The response (to this
question) rate is high (97%) but slightly lower for the unspecified
respondents. Unsurprisingly, since there are more female responses, the
female responses to this question contain a larger variety of words.</p>
</div>
<div class="section level4">
<h4 id="pos-and-length-comparisons">POS and Length Comparisons<a class="anchor" aria-label="anchor" href="#pos-and-length-comparisons"></a>
</h4>
<p>Next, we will look at part-of-speech tags and lengths of
responses.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../../reference/fst_pos_compare.html">fst_pos_compare</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df2</span>,</span>
<span>                  field <span class="op">=</span> <span class="st">'gender'</span>,</span>
<span>                  exclude_nulls <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="7%">
<col width="33%">
<col width="16%">
<col width="15%">
<col width="14%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left">UPOS</th>
<th align="left">Part_of_Speech_Name</th>
<th align="right">Female-Count</th>
<th align="right">Female-Prop</th>
<th align="right">Male-Count</th>
<th align="right">Male-Prop</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ADJ</td>
<td align="left">adjective</td>
<td align="right">276</td>
<td align="right">0.092</td>
<td align="right">69</td>
<td align="right">0.087</td>
</tr>
<tr class="even">
<td align="left">ADP</td>
<td align="left">adposition</td>
<td align="right">19</td>
<td align="right">0.006</td>
<td align="right">3</td>
<td align="right">0.004</td>
</tr>
<tr class="odd">
<td align="left">ADV</td>
<td align="left">adverb</td>
<td align="right">44</td>
<td align="right">0.015</td>
<td align="right">11</td>
<td align="right">0.014</td>
</tr>
<tr class="even">
<td align="left">AUX</td>
<td align="left">auxiliary</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">3</td>
<td align="right">0.004</td>
</tr>
<tr class="odd">
<td align="left">CCONJ</td>
<td align="left">coordinating conjunction</td>
<td align="right">2</td>
<td align="right">0.001</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">DET</td>
<td align="left">determiner</td>
<td align="right">24</td>
<td align="right">0.008</td>
<td align="right">4</td>
<td align="right">0.005</td>
</tr>
<tr class="odd">
<td align="left">INTJ</td>
<td align="left">interjection</td>
<td align="right">1</td>
<td align="right">0.000</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">NOUN</td>
<td align="left">noun</td>
<td align="right">2373</td>
<td align="right">0.793</td>
<td align="right">636</td>
<td align="right">0.800</td>
</tr>
<tr class="odd">
<td align="left">NUM</td>
<td align="left">numeral</td>
<td align="right">1</td>
<td align="right">0.000</td>
<td align="right">1</td>
<td align="right">0.001</td>
</tr>
<tr class="even">
<td align="left">PART</td>
<td align="left">particle</td>
<td align="right">18</td>
<td align="right">0.006</td>
<td align="right">8</td>
<td align="right">0.010</td>
</tr>
<tr class="odd">
<td align="left">PRON</td>
<td align="left">pronoun</td>
<td align="right">8</td>
<td align="right">0.003</td>
<td align="right">3</td>
<td align="right">0.004</td>
</tr>
<tr class="even">
<td align="left">PROPN</td>
<td align="left">proper noun</td>
<td align="right">19</td>
<td align="right">0.006</td>
<td align="right">12</td>
<td align="right">0.015</td>
</tr>
<tr class="odd">
<td align="left">PUNCT</td>
<td align="left">punctuation</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">SCONJ</td>
<td align="left">subordinating conjunction</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="odd">
<td align="left">SYM</td>
<td align="left">symbol</td>
<td align="right">1</td>
<td align="right">0.000</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
<tr class="even">
<td align="left">VERB</td>
<td align="left">verb</td>
<td align="right">195</td>
<td align="right">0.065</td>
<td align="right">45</td>
<td align="right">0.057</td>
</tr>
<tr class="odd">
<td align="left">X</td>
<td align="left">other</td>
<td align="right">12</td>
<td align="right">0.004</td>
<td align="right">NA</td>
<td align="right">NA</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="../../reference/fst_length_compare.html">fst_length_compare</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df2</span>,</span>
<span>                     field <span class="op">=</span> <span class="st">'gender'</span>,</span>
<span>                     incl_sentences <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                     exclude_nulls <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="27%">
<col width="18%">
<col width="9%">
<col width="12%">
<col width="4%">
<col width="10%">
<col width="4%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left">Description</th>
<th align="right">Respondents</th>
<th align="right">Mean</th>
<th align="right">Minimum</th>
<th align="right">Q1</th>
<th align="right">Median</th>
<th align="right">Q3</th>
<th align="right">Maximum</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Female- Words</td>
<td align="right">660</td>
<td align="right">5.518</td>
<td align="right">1</td>
<td align="right">4</td>
<td align="right">5</td>
<td align="right">6</td>
<td align="right">28</td>
</tr>
<tr class="even">
<td align="left">Female- Sentences</td>
<td align="right">660</td>
<td align="right">1.012</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="left">Male- Words</td>
<td align="right">175</td>
<td align="right">5.417</td>
<td align="right">2</td>
<td align="right">4</td>
<td align="right">5</td>
<td align="right">6</td>
<td align="right">32</td>
</tr>
<tr class="even">
<td align="left">Male- Sentences</td>
<td align="right">175</td>
<td align="right">1.029</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p><strong>Remarks:</strong></p>
<p>In terms of POS tags, the scale differences are likely mostly due to
the differences in the number of respondents between genders. We can
also see that female responses are generally slightly longer (average of
6 words to 5 words) but that most respondents (across the genders) wrote
only a single sentence.</p>
</div>
<div class="section level3">
<h3 id="comparison-cloud">Comparison Cloud<a class="anchor" aria-label="anchor" href="#comparison-cloud"></a>
</h3>
<p>Now that we’ve looked at the overview comparisons, we will create a
comparison cloud between the responses, using the versions with
stopwords removed so that only more meaningful words remain.</p>
<p>A comparison cloud compares the relative frequency with which a term
is used in two or more documents. This cloud shows words that occur more
regularly in responses from a specific type of respondent. For more
information about comparison clouds, you can read <a href="https://cran.r-project.org/web/packages/wordcloud/wordcloud.pdf" class="external-link">this
documentation</a>.</p>
<p>We create our comparison cloud as follows:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># WEIGHTED</span></span>
<span><span class="fu"><a href="../../reference/fst_comparison_cloud.html">fst_comparison_cloud</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df2</span>,</span>
<span>                     field <span class="op">=</span> <span class="st">'gender'</span>,</span>
<span>                     pos_filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                     norm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                     max <span class="op">=</span> <span class="fl">100</span>,</span>
<span>                     use_svydesign_weights <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                     use_svydesign_field <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>                     id <span class="op">=</span> <span class="st">""</span>,</span>
<span>                     svydesign <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                     use_column_weights <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                     exclude_nulls <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="InDetail4-ComparisonFunctions_files/figure-html/unnamed-chunk-5-1.png" width="768"></p>
<p>To run <code><a href="../../reference/fst_comparison_cloud.html">fst_comparison_cloud()</a></code>, we provide the following
arguments to the function:</p>
<ul>
<li>
<code>data</code>, <code>field</code>, <code>exclude_nulls</code>
and `rename_nulls`` (as defined above)</li>
<li>
<code>norm</code> is the method for normalising the data. Valid
settings are <code>'number_words'</code> (the number of words in the
responses), <code>'number_resp'</code> (the number of responses), or
<code>NULL</code> (raw count returned, default).</li>
<li>
<code>pos_filter</code> is an optional list of which POS tags to
include such as <code>'c("NOUN", "VERB", "ADJ", "ADV")'</code>. The
default is <code>NULL</code>, in which case all words in the data are
considered.</li>
<li>
<code>max</code> is the maximum number of words to display, the
default is <code>100</code>.</li>
<li>
<code>use_svydesign_weights</code> is a boolean for whether to get
weights for the responses from a <code>svydesign</code> object</li>
<li>If weights are coming from a <code>svydesign</code> object, the
<code>id</code> field needs to not be empty, as this is used to join the
data.</li>
<li>Similarly, if weights are coming from a <code>svydesign</code>
object this is the named object.</li>
<li>
<code>use_column_weights</code> is a boolean for if weights have
already been included in the formatted data and should be included.</li>
</ul>
</div>
<div class="section level3">
<h3 id="common-words-and-n-grams">Common Words and N-grams<a class="anchor" aria-label="anchor" href="#common-words-and-n-grams"></a>
</h3>
<p>Now, we will look at common words occurring in the responses.</p>
<p>First, we will consider all the responses for this question. We are
not filtering the data based on POS tag, and will leave the default of
<code>strict = TRUE</code> which will cut-off the list at 10 words (see
the warning note about this). We also use the default for the norm which
means we are standardising between groups by dividing count of a word by
the total number of words in the responses.</p>
<p>For definition of <code><a href="../../reference/fst_freq_table.html">fst_freq_table()</a></code> and
<code><a href="../../reference/fst_ngrams_table.html">fst_ngrams_table()</a></code> functions, see
“InDetail2-DataExploration”.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">all_top10</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/fst_freq_table.html">fst_freq_table</a></span><span class="op">(</span><span class="va">df2</span>,</span>
<span>  number <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  norm <span class="op">=</span> <span class="st">"number_words"</span>,</span>
<span>  pos_filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  strict <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Note:</span></span>
<span><span class="co">#&gt;  Words with equal occurrence are presented in alphabetical order. </span></span>
<span><span class="co">#&gt;  With `strict` = FALSE, words occurring equally often as the `number` cutoff word will be displayed.</span></span>
<span><span class="va">all_top10bigrams</span> <span class="op">&lt;-</span> <span class="fu"><a href="../../reference/fst_ngrams_table.html">fst_ngrams_table</a></span><span class="op">(</span><span class="va">df2</span>,</span>
<span>  number <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  ngrams <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  norm <span class="op">=</span> <span class="st">"number_words"</span>,</span>
<span>  pos_filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  strict <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="co">#&gt; Note:</span></span>
<span><span class="co">#&gt;  N-grams with equal occurrence are presented in alphabetical order. </span></span>
<span><span class="co">#&gt;  By default, n-grams are presented in order to the `number` cutoff n-gram. </span></span>
<span><span class="co">#&gt;  This means that equally-occurring later-alphabetically n-grams beyond the cutoff n-gram will not be displayed.</span></span>
<span></span>
<span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">all_top10</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">words</th>
<th align="right">occurrence</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">köyhyys</td>
<td align="right">0.062</td>
</tr>
<tr class="even">
<td align="left">nälänhätä</td>
<td align="right">0.057</td>
</tr>
<tr class="odd">
<td align="left">sota</td>
<td align="right">0.055</td>
</tr>
<tr class="even">
<td align="left">ilmastonmuutos</td>
<td align="right">0.034</td>
</tr>
<tr class="odd">
<td align="left">puute</td>
<td align="right">0.028</td>
</tr>
<tr class="even">
<td align="left">ihminen</td>
<td align="right">0.025</td>
</tr>
<tr class="odd">
<td align="left">vesi</td>
<td align="right">0.023</td>
</tr>
<tr class="even">
<td align="left">epätasa-arvo</td>
<td align="right">0.021</td>
</tr>
<tr class="odd">
<td align="left">ahneus</td>
<td align="right">0.020</td>
</tr>
<tr class="even">
<td align="left">nälkä</td>
<td align="right">0.019</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">all_top10bigrams</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">words</th>
<th align="right">occurrence</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">puhdas vesi</td>
<td align="right">0.015</td>
</tr>
<tr class="even">
<td align="left">vesi puute</td>
<td align="right">0.013</td>
</tr>
<tr class="odd">
<td align="left">nälänhätä sota</td>
<td align="right">0.010</td>
</tr>
<tr class="even">
<td align="left">köyhyys nälänhätä</td>
<td align="right">0.009</td>
</tr>
<tr class="odd">
<td align="left">sota nälänhätä</td>
<td align="right">0.008</td>
</tr>
<tr class="even">
<td align="left">epätasainen jakautuminen</td>
<td align="right">0.007</td>
</tr>
<tr class="odd">
<td align="left">sota köyhyys</td>
<td align="right">0.007</td>
</tr>
<tr class="even">
<td align="left">köyhyys sota</td>
<td align="right">0.005</td>
</tr>
<tr class="odd">
<td align="left">nälänhätä köyhyys</td>
<td align="right">0.005</td>
</tr>
<tr class="even">
<td align="left">ilmastonmuutos köyhyys</td>
<td align="right">0.004</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="comparison-n-gram-plots">Comparison N-Gram Plots<a class="anchor" aria-label="anchor" href="#comparison-n-gram-plots"></a>
</h3>
<p>Now we will look at top words by gender. There are two functions
which create the plots in one function simply. These are
<code><a href="../../reference/fst_freq_compare.html">fst_freq_compare()</a></code> and
<code><a href="../../reference/fst_ngrams_compare.html">fst_ngrams_compare()</a></code>.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/fst_freq_compare.html">fst_freq_compare</a></span><span class="op">(</span></span>
<span>  <span class="va">df2</span>,</span>
<span>  field <span class="op">=</span> <span class="st">'gender'</span>,</span>
<span>  number <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  norm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pos_filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unique_colour <span class="op">=</span> <span class="st">"indianred"</span>,</span>
<span>  strict <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>  exclude_nulls <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>  use_column_weights <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="InDetail4-ComparisonFunctions_files/figure-html/unnamed-chunk-7-1.png" width="768"></p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span></span>
<span><span class="fu"><a href="../../reference/fst_ngrams_compare.html">fst_ngrams_compare</a></span><span class="op">(</span></span>
<span>  <span class="va">df2</span>,</span>
<span>  field <span class="op">=</span> <span class="st">'gender'</span>,</span>
<span>  number <span class="op">=</span> <span class="fl">10</span>,</span>
<span>  ngrams <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  norm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  pos_filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  unique_colour <span class="op">=</span> <span class="st">"indianred"</span>,</span>
<span>  strict <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>  use_column_weights <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>  exclude_nulls <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="InDetail4-ComparisonFunctions_files/figure-html/unnamed-chunk-7-2.png" width="768"></p>
<p>The functions <code><a href="../../reference/fst_freq_compare.html">fst_freq_compare()</a></code> and
<code><a href="../../reference/fst_ngrams_compare.html">fst_ngrams_compare()</a></code> have parameters as defined
previously.</p>
<p><strong>Remarks:</strong> Note that words that are unique to a gender
are highlighted in red. This is only comparing the top 10 words, so be
aware this word likely still appears in the other genders, just less
frequently! Interestingly, while they have the same top 4 words, it
seems that the top 3 words differs across the genders with
‘ilmastonmuutos’ being the 3rd most frequent in male responses but
‘nälänhätä’ is in the top 3 for females. The most frequent bigram in
female responses ‘puhdas vesi’ is not commonly mentioned by male
respondents.</p>
</div>
<div class="section level3">
<h3 id="comparison-concept-network">Comparison Concept Network<a class="anchor" aria-label="anchor" href="#comparison-concept-network"></a>
</h3>
<p>Since the top 4 words are ‘köyhyys’, ‘nälänhätä’, ‘sota’, and
‘ilmastonmuutos’, we will create Concept Networks based on these
terms.</p>
<p>We run the comparison Concept Network as below. Again, we’re keeping
the default norm.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../../reference/fst_concept_network_compare.html">fst_concept_network_compare</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">df2</span>,</span>
<span>                            concepts <span class="op">=</span> <span class="st">'köyhyys, nälänhätä, sota, ilmastonmuutos'</span>,</span>
<span>                            field <span class="op">=</span> <span class="st">'gender'</span>,</span>
<span>                            norm <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            threshold <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            pos_filter <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>                            exclude_nulls <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                            <span class="op">)</span></span></code></pre></div>
<p><img src="InDetail4-ComparisonFunctions_files/figure-html/unnamed-chunk-8-1.png" width="768"></p>
<p>The parameters are the same as previously described.</p>
<p><strong>Remarks:</strong></p>
<p>Each of these Concept Networks are created separately, which means
that the weights of words are based only on the responses within that
gender. Despite this, we have many more words in the female plot
(possibly due to there being more responses in this data leading to
increased variation).</p>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>As demonstrated in this tutorial, <code>finnsurveytext</code>
contains a number of functions which can be used to compare responses
between groups. This analysis could form the start of further work into
the responses to question 11_3 by respondents based on their gender, or
as just one of many different splits used to investigate the
responses.</p>
</div>
<div class="section level2">
<h2 id="citation">Citation<a class="anchor" aria-label="anchor" href="#citation"></a>
</h2>
<p>Finnish Children and Youth Foundation: Young People’s Views on
Development Cooperation 2012 [dataset]. Version 2.0 (2019-01-22).
Finnish Social Science Data Archive [distributor]. <a href="http://urn.fi/urn:nbn:fi:fsd:T-FSD2821" class="external-link uri">http://urn.fi/urn:nbn:fi:fsd:T-FSD2821</a></p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Adeline Clarke, Krista Lagus, Katja Laine, Maria Litova, Matti Nelimarkka, Joni Oksanen, Jaakko Peltonen, Tuukka Oikarinen, Jani-Matti Tirkkonen, Ida Toivanen, Maria Valaste, DARIAH-FI.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
